<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.bdilab.sharedcalendar.mapper.EventTypeMapper">


    <!--新建日程类型-->
    <insert id="insertEventType" useGeneratedKeys="true" keyProperty="id" parameterType="com.bdilab.sharedcalendar.model.EventType">
        INSERT INTO event_type(type_name, type_descrption, type_transparency, fk_creator_id, create_time,subscriber_num) VALUES (#{typeName}, #{typeDescrption}, #{typeTransparency}, #{fkCreatorId}, #{createTime},#{subscriberNum});
    </insert>

    <!--搜索用户日程列表信息-->
    <select id="selectEventTypeById" parameterType="int" resultType="com.bdilab.sharedcalendar.model.EventType">
                select event_type.id as id,
                       event_type.type_name as typeName,
                       event_type.type_descrption as typeDescrption,
                       event_type.type_transparency as typeTransparency,
                       event_type.fk_creator_id as fkCreatorId,
                       event_type.create_time as createTime,
                       event_type.subscriber_num as subscriberNum
                from event_type
                where event_type.fk_creator_id= #{userId}
            </select>

    <!--删除用户的多个日程类型-->
    <delete id="deleteEventType">
        delete from event_type where event_type.id IN
        <foreach collection="eventTypeIds" item="item" index="index" separator="," open="(" close=")">
            #{item}
        </foreach>
    </delete>


</mapper>